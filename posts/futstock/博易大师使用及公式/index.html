<!DOCTYPE html>
<html>
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie-edge">

    
    
    <link rel="stylesheet" href="http://memo.eliglad.com:1313/sass/main.min.25934bb03db303dfa541f621fc29b24509d8e2c2e39a063de4a77a16ab2fec19.css">

</head>

    
<head>
    
    

    
    
    <link href="http://memo.eliglad.com:1313/css/section_number/section_number.css" rel="stylesheet" type="text/css">
    
</head>

    <body>

    <h1>博易大师使用及公式</h1>
    <p>Wed Sep 26, 2018</p>
    
    <a class="tag tag--primary tag--small"   href="http://memo.eliglad.com:1313/"><font color="green">Home</font></a>

    
        
           <a class="tag tag--primary tag--small" href="http://memo.eliglad.com:1313/tags/futures">futures</a>
        
    

    <hr><br>
<nav id="TableOfContents">
<ul>
<li><a href="#公式">公式</a>
<ul>
<li><a href="#m9-macd-变色-面积公式">m9 （MACD 变色\面积公式）</a></li>
</ul></li>
</ul></li>
</ul>
</nav><article>
    

<h2 id="公式">公式</h2>

<h3 id="m9-macd-变色-面积公式">m9 （MACD 变色\面积公式）</h3>

<p>[jtable]
NO,参数名,类型,缺省值,最小值,最大值,步长
1,SHORT,数值型,12,2,200,0
2,LONG,数值型,26,2,200,0
3,MID,数值型,9,2,200,0
4,ISARROW,数值型,1,0,1,0
[/jtable]</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">DIFF:<span style="color:#f92672">=</span>EMA<span style="color:#f92672">(</span>CLOSE,SHORT<span style="color:#f92672">)</span>-EMA<span style="color:#f92672">(</span>CLOSE,LONG<span style="color:#f92672">)</span>;
DEA:<span style="color:#f92672">=</span>EMA<span style="color:#f92672">(</span>DIFF,MID<span style="color:#f92672">)</span>;
MACD2:<span style="color:#f92672">=(</span>DIFF - DEA<span style="color:#f92672">)</span>*2;
DIF:DIFF;
DEF:DEA;

获利比:WINNER<span style="color:#f92672">(</span>C<span style="color:#f92672">)</span>,NODRAW;
STICKLINE<span style="color:#f92672">((</span>MACD2&gt;<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span><span style="color:#f92672">)</span>,0,MACD2,0,1<span style="color:#f92672">)</span>,COLORRED;
STICKLINE<span style="color:#f92672">(((</span>MACD2&gt;<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span><span style="color:#f92672">)</span> AND <span style="color:#f92672">(</span>MACD2 &lt; REF<span style="color:#f92672">(</span>MACD2,1<span style="color:#f92672">)))</span>,0,MACD2,0,0<span style="color:#f92672">)</span>,COLORWHITE;
STICKLINE<span style="color:#f92672">((</span>MACD2&lt;<span style="color:#ae81ff">0</span><span style="color:#f92672">)</span>,0,MACD2,0,0<span style="color:#f92672">)</span>,COLORGREEN;
STICKLINE<span style="color:#f92672">(((</span>MACD2&lt;<span style="color:#ae81ff">0</span><span style="color:#f92672">)</span> AND <span style="color:#f92672">(</span>MACD2 &gt; REF<span style="color:#f92672">(</span>MACD2,1<span style="color:#f92672">)))</span>,0,MACD2,0,1<span style="color:#f92672">)</span>,COLORWHITE;

A1:<span style="color:#f92672">=</span>IF<span style="color:#f92672">(</span>MACD2&gt;0,1,-1<span style="color:#f92672">)</span>;
A2:<span style="color:#f92672">=</span>REF<span style="color:#f92672">(</span>A1,1<span style="color:#f92672">)</span>;
A3:<span style="color:#f92672">=</span>A1*A2;
A4:<span style="color:#f92672">=</span>BARSLAST<span style="color:#f92672">(</span>A3&lt;<span style="color:#ae81ff">0</span><span style="color:#f92672">)</span>;<span style="color:#f92672">{</span>MACD发生变化，从红到绿，或者从绿到红<span style="color:#f92672">}</span>
A5:<span style="color:#f92672">=</span>A4+1;
累计面积:SUM<span style="color:#f92672">(</span>MACD2,A5<span style="color:#f92672">)</span>,NODRAW;
平均力度:SUM<span style="color:#f92672">(</span>MACD2,A5<span style="color:#f92672">)</span>/A5,NODRAW;

BV:<span style="color:#f92672">=</span>SUM<span style="color:#f92672">(</span>MACD2,0<span style="color:#f92672">)</span>; <span style="color:#f92672">{</span>0表示从第一个有效的MACD2开始求和<span style="color:#f92672">}</span>
BA:<span style="color:#f92672">=</span>IF<span style="color:#f92672">(</span>MAX<span style="color:#f92672">(</span>BV,REF<span style="color:#f92672">(</span>BV,2<span style="color:#f92672">))</span>&lt;REF<span style="color:#f92672">(</span>BV,1<span style="color:#f92672">)</span> OR MIN<span style="color:#f92672">(</span>BV,REF<span style="color:#f92672">(</span>BV,2<span style="color:#f92672">))</span>&gt;REF<span style="color:#f92672">(</span>BV,1<span style="color:#f92672">)</span>,1,0<span style="color:#f92672">)</span>;
BC:<span style="color:#f92672">=</span>BARSLAST<span style="color:#f92672">(</span>BA<span style="color:#f92672">)</span>+1;
SMACD:<span style="color:#f92672">=</span>BV-REF<span style="color:#f92672">(</span>BV,BC<span style="color:#f92672">)</span>;
VAR3:<span style="color:#f92672">=</span>IF<span style="color:#f92672">(</span>MACD2&gt;0,HHV<span style="color:#f92672">(</span>ABS<span style="color:#f92672">(</span>MACD2<span style="color:#f92672">)</span>,BC<span style="color:#f92672">)</span>,LLV<span style="color:#f92672">(</span>MACD2,BC<span style="color:#f92672">))</span>;
VAR4:<span style="color:#f92672">=(</span>MACD2<span style="color:#f92672">)</span>/1;<span style="color:#f92672">{</span>图形比例缩小1/20,可修改<span style="color:#f92672">}</span>

<span style="color:#f92672">{</span><span style="color:#ae81ff">0</span>.9是文字的垂直位置在最长的macd线的比例<span style="color:#f92672">}</span>
DRAWNUMBER<span style="color:#f92672">(</span>REF<span style="color:#f92672">(</span>VAR4,1<span style="color:#f92672">)</span>&gt;0 AND VAR4&lt;<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>,REF<span style="color:#f92672">(</span>VAR3,1<span style="color:#f92672">)</span>*0.9,REF<span style="color:#f92672">(</span>累计面积,1<span style="color:#f92672">)</span>,2<span style="color:#f92672">)</span>,COLORMAGENTA;
DRAWNUMBER<span style="color:#f92672">(</span>REF<span style="color:#f92672">(</span>VAR4,1<span style="color:#f92672">)</span>&lt;<span style="color:#ae81ff">0</span> AND VAR4&gt;<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>,REF<span style="color:#f92672">(</span>VAR3,1<span style="color:#f92672">)</span>*0.9,REF<span style="color:#f92672">(</span>ABS<span style="color:#f92672">(</span>累计面积<span style="color:#f92672">)</span>,1<span style="color:#f92672">)</span>,2<span style="color:#f92672">)</span>,COLORGREEN;
DRAWNUMBER<span style="color:#f92672">(</span>ISLASTBAR AND VAR4&lt;<span style="color:#ae81ff">0</span>,REF<span style="color:#f92672">(</span>VAR3,1<span style="color:#f92672">)</span>*0.9,ABS<span style="color:#f92672">(</span>累计面积<span style="color:#f92672">)</span>,2<span style="color:#f92672">)</span>,COLORMAGENTA;
DRAWNUMBER<span style="color:#f92672">(</span>ISLASTBAR AND VAR4&gt;0,REF<span style="color:#f92672">(</span>VAR3,1<span style="color:#f92672">)</span>*0.9,累计面积,2<span style="color:#f92672">)</span>,COLORGREEN;

前MACD:REF<span style="color:#f92672">(</span>MACD2,1<span style="color:#f92672">)</span>,NODRAW;
现MACD:MACD2,NODRAW,COLORRED;</code></pre></div>
</article>

    <script data-no-instant>document.write('<script src="/livereload.js?port=1313&mindelay=10&v=2"></' + 'script>')</script></body>
</html>
