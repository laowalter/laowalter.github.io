<!DOCTYPE html>
<html>
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie-edge">

    
    
    <link rel="stylesheet" href="/sass/main.min.6e3c2b079ee31b17abb26d025a098c60ce82093b938c09a95277f558ea824d75.css">

</head>

    
<head>
    
    

    
    
    <link href="css/section_number/section_number.css" rel="stylesheet" type="text/css">
    
</head>

    <body>
       <div class="homepage-header">
          <div class="homepage-left">
            <h1>Bash</h1> 
            <p>Fri Dec 1, 2017</p>
            <a class="tag tag--primary tag--small"   href="/"><font color="green">Home</font></a>

            
                
                    <a class="tag tag--primary tag--small" href="tags/shell">shell</a>
                
            
          </div>
      </div>

    <hr><br><nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#linux-bashrc">Linux .bashrc</a></li>
<li><a href="#mac-os-bashrc">Mac OS  .bashrc</a></li>
<li><a href="#run-python-script">Run python script</a></li>
</ul></li>
</ul></li>
</ul>
</nav><article>
    

<h3 id="linux-bashrc">Linux .bashrc</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#66d9ef">if</span> <span style="color:#f92672">[[</span> $- !<span style="color:#f92672">=</span> *i* <span style="color:#f92672">]]</span> ; <span style="color:#66d9ef">then</span>
    <span style="color:#75715e"># Shell is non-interactive.  Be done now!</span>
    <span style="color:#66d9ef">return</span>
<span style="color:#66d9ef">fi</span>

<span style="color:#75715e"># Locale</span>
export TERM<span style="color:#f92672">=</span>xterm-256color
export LC_ALL<span style="color:#f92672">=</span>zh_CN.UTF-8
export LANG<span style="color:#f92672">=</span>zh_CN.UTF-8

<span style="color:#75715e"># Perlbrew</span>
export PERLBREW_ROOT<span style="color:#f92672">=</span>/opt/perl5
PATH<span style="color:#f92672">=</span>$PATH:~/.bin:/opt/perl5/bin

<span style="color:#75715e"># Ssh login need password phrase once</span>
<span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> ! -S ~/.ssh/ssh_auth_sock <span style="color:#f92672">]</span>; <span style="color:#66d9ef">then</span>
  eval <span style="color:#e6db74">`</span>ssh-agent<span style="color:#e6db74">`</span>
  ln -sf <span style="color:#e6db74">&#34;</span>$SSH_AUTH_SOCK<span style="color:#e6db74">&#34;</span> ~/.ssh/ssh_auth_sock
<span style="color:#66d9ef">fi</span>
export SSH_AUTH_SOCK<span style="color:#f92672">=</span>~/.ssh/ssh_auth_sock
ssh-add -l &gt; /dev/null <span style="color:#f92672">||</span> ssh-add</code></pre></div>
<h3 id="mac-os-bashrc">Mac OS  .bashrc</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e">#########</span>
<span style="color:#75715e">#Alias</span>
#                                                                    
alias ls<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;ls -G&#34;</span>
alias rm<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;rm -i&#39;</span>
alias mv<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;mv -i&#39;</span>
alias cp<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;cp -i&#39;</span>
alias grep<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;grep --color=auto&#39;</span>
alias vi<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;/usr/local/bin/vim&#39;</span>
alias vim<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;/usr/local/bin/vim&#39;</span>

<span style="color:#75715e">#enviroment</span>
export LC_ALL<span style="color:#f92672">=</span>zh_CN.UTF-8  
export LANG<span style="color:#f92672">=</span>zh_CN.UTF-8

export TERM<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;xterm-color&#34;</span>
bind <span style="color:#e6db74">&#39;&#34;\e[5~&#34;:history-search-backward&#39;</span>
bind <span style="color:#e6db74">&#39;&#34;\e[6~&#34;:history-search-forward&#39;</span>


PATH<span style="color:#f92672">=</span>~/.bin:/usr/local/bin:/usr/local/mysql/bin:$PATH

<span style="color:#75715e">###########</span>
<span style="color:#75715e">#Prompt</span>
#

set_prompt <span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
    Last_Command<span style="color:#f92672">=</span>$? <span style="color:#75715e"># Must come first!</span>
    Blue<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;\[\e[01;34m\]&#39;</span>
    White<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;\[\e[01;37m\]&#39;</span>
    Red<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;\[\e[01;31m\]&#39;</span>
    Green<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;\[\e[01;32m\]&#39;</span>
    Reset<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;\[\e[00m\]&#39;</span>
    FancyX<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;\342\234\227&#39;</span>
    Checkmark<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;\342\234\223&#39;</span>

    <span style="color:#75715e"># Add a bright white exit status for the last command</span>
    PS1<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span>$White<span style="color:#e6db74">\$? &#34;</span>
    <span style="color:#75715e"># If it was successful, print a green check mark. Otherwise, print</span>
    <span style="color:#75715e"># a red X.</span>
    <span style="color:#66d9ef">if</span> <span style="color:#f92672">[[</span> $Last_Command <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">]]</span>; <span style="color:#66d9ef">then</span>
        PS1<span style="color:#f92672">+=</span><span style="color:#e6db74">&#34;</span>$Green$Checkmark<span style="color:#e6db74"> &#34;</span>
    <span style="color:#66d9ef">else</span>
        PS1<span style="color:#f92672">+=</span><span style="color:#e6db74">&#34;</span>$Red$FancyX<span style="color:#e6db74"> &#34;</span>
    <span style="color:#66d9ef">fi</span>
    <span style="color:#75715e"># If root, just print the host in red. Otherwise, print the current user</span>
    <span style="color:#75715e"># and host in green.</span>
    <span style="color:#66d9ef">if</span> <span style="color:#f92672">[[</span> $EUID <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">]]</span>; <span style="color:#66d9ef">then</span>
        PS1<span style="color:#f92672">+=</span><span style="color:#e6db74">&#34;</span>$Red<span style="color:#e6db74">\\h &#34;</span>
    <span style="color:#66d9ef">else</span>
        PS1<span style="color:#f92672">+=</span><span style="color:#e6db74">&#34;</span>$Green<span style="color:#e6db74">\\u@\\h &#34;</span>
    <span style="color:#66d9ef">fi</span>
    <span style="color:#75715e"># Print the working directory and prompt marker in blue, and reset</span>
    <span style="color:#75715e"># the text color to the default.</span>
    PS1<span style="color:#f92672">+=</span><span style="color:#e6db74">&#34;</span>$Blue<span style="color:#e6db74">\\w \\\$</span>$Reset<span style="color:#e6db74"> &#34;</span>
<span style="color:#f92672">}</span>
PROMPT_COMMAND<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;set_prompt&#39;</span>

<span style="color:#75715e"># ssh login need password phrase once</span> 
<span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> ! -S ~/.ssh/ssh_auth_sock <span style="color:#f92672">]</span>; <span style="color:#66d9ef">then</span>
  eval <span style="color:#e6db74">`</span>ssh-agent<span style="color:#e6db74">`</span>
  ln -sf <span style="color:#e6db74">&#34;</span>$SSH_AUTH_SOCK<span style="color:#e6db74">&#34;</span> ~/.ssh/ssh_auth_sock
<span style="color:#66d9ef">fi</span>
export SSH_AUTH_SOCK<span style="color:#f92672">=</span>~/.ssh/ssh_auth_sock
ssh-add -l &gt; /dev/null <span style="color:#f92672">||</span> ssh-add</code></pre></div>
<h3 id="run-python-script">Run python script</h3>

<p>gen_graph.sh</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e">#!/bin/bash
</span><span style="color:#75715e"></span>
cd ~/chan/k/output
DATE<span style="color:#f92672">=</span><span style="color:#e6db74">`</span>date +%F<span style="color:#e6db74">`</span>
FILES<span style="color:#f92672">=</span><span style="color:#e6db74">`</span>ls|grep -v <span style="color:#e6db74">${</span>DATE<span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>
<span style="color:#66d9ef">for</span> file in <span style="color:#e6db74">${</span>FILES<span style="color:#e6db74">}</span>
<span style="color:#66d9ef">do</span>
    echo $file <span style="color:#e6db74">&#34;Removed!&#34;</span>
    rm -f $file
<span style="color:#66d9ef">done</span>

cd ~/chan/k
. ~/.bin/python3.sh

./compare_stocks.py -f selected -n <span style="color:#ae81ff">25</span> -k <span style="color:#ae81ff">450</span>
./compare_stocks.py -f 1all_index -n <span style="color:#ae81ff">25</span> -k <span style="color:#ae81ff">450</span>
./compare_stocks.py -f 2all_index -n <span style="color:#ae81ff">25</span> -k <span style="color:#ae81ff">450</span>
./compare_stocks.py -f 3all_index  -n <span style="color:#ae81ff">25</span> -k <span style="color:#ae81ff">450</span>

./compare_stocks.py -f all_index -n <span style="color:#ae81ff">25</span> -k <span style="color:#ae81ff">450</span></code></pre></div>
</article>

    </body>
</html>
