<!DOCTYPE html>
<html>
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie-edge">

    
    
    <link rel="stylesheet" href="/laowalter.github.io/sass/main.min.25934bb03db303dfa541f621fc29b24509d8e2c2e39a063de4a77a16ab2fec19.css">

</head>

    
<head>
    
    

    
    
    <link href="laowalter.github.iocss/section_number/section_number.css" rel="stylesheet" type="text/css">
    
</head>

    <body>

    <h1>Gentoo X / Xorg / X11</h1>
    <p>Sun Jan 7, 2018</p>
    
    <a class="tag tag--primary tag--small"   href="laowalter.github.io"><font color="green">Home</font></a>

    
        
           <a class="tag tag--primary tag--small" href="laowalter.github.io/tags/x11">x11</a>
        
    

    <hr><br>
<nav id="TableOfContents">
<ul>
<li><a href="#xorg-最小安装">Xorg 最小安装</a>
<ul>
<li><a href="#检测显卡-配置make-conf">检测显卡, 配置make.conf</a></li>
<li><a href="#安装xorg-server">安装xorg-server</a>
<ul>
<li><a href="#初始化环境变量">初始化环境变量</a></li>
<li><a href="#使用startx-测试x-安装twm-xterm">使用startx： 测试X，安装twm xterm</a></li>
</ul></li>
</ul></li>
<li><a href="#remote-x-or-remote-vnc">Remote X or Remote VNC</a>
<ul>
<li><a href="#installation-guide-by-gentoo-wiki-https-wiki-gentoo-org-wiki-tigervnc"><a href="https://wiki.gentoo.org/wiki/TigerVNC">Installation Guide by Gentoo Wiki</a></a></li>
<li><a href="#config-setup">Config / Setup</a></li>
<li><a href="#running-vnc-service">Running vnc service</a></li>
<li><a href="#windows-10">Windows 10</a>
<ul>
<li><a href="#download-tigervnc-from-official-site-https-www-tightvnc-com-download-html">Download tigervnc from <a href="https://www.tightvnc.com/download.html">official site</a></a></li>
<li><a href="#install-and-run">Install and run</a></li>
</ul></li>
</ul></li>
<li><a href="#tune-x">Tune X</a>
<ul>
<li><a href="#xterm">xterm</a></li>
</ul></li>
<li><a href="#window-manager">Window Manager</a>
<ul>
<li><a href="#list-of-x11-wm-https-www-gilesorr-com-wm-table-html"><a href="https://www.gilesorr.com/wm/table.html">List of x11-wm</a></a></li>
<li><a href="#fvwm-my-favorite">FVWM (My favorite)</a>
<ul>
<li><a href="#documents-http-fvwmforums-org-wiki-config"><a href="http://fvwmforums.org/wiki/Config/">Documents</a></a></li>
</ul></li>
</ul></li>
<li><a href="#xcursor-鼠标光标">xcursor (鼠标光标)</a>
<ul>
<li><a href="#x-resources-的gentoo-wiki-https-wiki-gentoo-org-wiki-x-resources"><a href="https://wiki.gentoo.org/wiki/X_resources">X resources 的Gentoo Wiki</a></a></li>
<li><a href="#关于光标的gentoo-wiki-https-wiki-gentoo-org-wiki-cursor-themes"><a href="https://wiki.gentoo.org/wiki/Cursor_themes">关于光标的Gentoo Wiki</a></a></li>
<li><a href="#当前地设置过程https-wiki-gentoo-org-wiki-cursor-themes">当前地设置过程<a href="https://wiki.gentoo.org/wiki/Cursor_themes">https://wiki.gentoo.org/wiki/Cursor_themes</a></a></li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</nav><article>
    

<h2 id="xorg-最小安装">Xorg 最小安装</h2>

<h3 id="检测显卡-配置make-conf">检测显卡, 配置make.conf</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e">#dmesg | grep video</span>
<span style="color:#75715e">#lspci  | grep -i VGA</span></code></pre></div>
<p>设置/etc/portage/make.conf文件中两个重要的变量：</p>

<p>%filename: /etc/portage/make.conf</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">INPUT_DEVICE<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;evdev&#34;</span>
VIDEO_CARDS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;intel i965&#34;</span></code></pre></div>
<h3 id="安装xorg-server">安装xorg-server</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># emerge -pv xorg-server</span>
<span style="color:#75715e"># echo &#34;x11-base/xorg-server udev&#34; &gt;&gt; /etc/portage/package.use</span>
<span style="color:#75715e"># emerge xorg-server</span></code></pre></div>
<h4 id="初始化环境变量">初始化环境变量</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># env-update</span>
<span style="color:#75715e"># source /etc/profile</span></code></pre></div>
<h4 id="使用startx-测试x-安装twm-xterm">使用startx： 测试X，安装twm xterm</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># emerge twm</span>
<span style="color:#75715e"># emerge xterm</span>
<span style="color:#75715e"># startx</span></code></pre></div>
<p>测试成功，卸载twm xterm</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">emerge --unmerge twm xterm</code></pre></div>
<p>注意事项
现在比较新的版本的Xorg使用 evdev 替换了 keyboard 和 mouse ，确保 udev 标记在安装 xorg-server 时被启用：# echo &ldquo;x11-base/xorg-server udev&rdquo; &gt;&gt; /etc/portage/package.use</p>

<h2 id="remote-x-or-remote-vnc">Remote X or Remote VNC</h2>

<h3 id="installation-guide-by-gentoo-wiki-https-wiki-gentoo-org-wiki-tigervnc"><a href="https://wiki.gentoo.org/wiki/TigerVNC">Installation Guide by Gentoo Wiki</a></h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo echo <span style="color:#e6db74">&#34;net-misc/tigervnc dri3 drm gnutls nls opengl pam server xorgmodule -java -libressl -xinerama&#34;</span> &gt; /etc/portage/package.use/tigervnc
emerge -avq tigervnc</code></pre></div>
<h3 id="config-setup">Config / Setup</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">vncpassword
vncserver  <span style="color:#f92672">(</span>Will generate a session named Xvnc<span style="color:#f92672">)</span>
pkill Xvnc</code></pre></div>
<p>%filename: /etc/conf.d/tigervnc</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">DISPLAY:<span style="color:#e6db74">&#34;user_a:1 user_b:2&#34;</span></code></pre></div>
<p>%filename: ~/.vnc/startup</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e">#!/bin/sh
</span><span style="color:#75715e"></span>xrdb <span style="color:#e6db74">${</span>HOME<span style="color:#e6db74">}</span>/.Xresources
xsetroot -solid grey
xterm -geometry 80x24+10+10 -ls -title <span style="color:#e6db74">&#34;</span>$VNCDESKTOP<span style="color:#e6db74"> Desktop&#34;</span> &amp;
twm &amp;</code></pre></div>
<h3 id="running-vnc-service">Running vnc service</h3>

<p><code>Default service port: 5901</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">/etc/init.d/tigervnc start</code></pre></div>
<h3 id="windows-10">Windows 10</h3>

<h4 id="download-tigervnc-from-official-site-https-www-tightvnc-com-download-html">Download tigervnc from <a href="https://www.tightvnc.com/download.html">official site</a></h4>

<h4 id="install-and-run">Install and run</h4>

<ol>
<li>Custom install the viewer part;</li>
<li>Runing and specific port 5901;</li>
</ol>

<h2 id="tune-x">Tune X</h2>

<h3 id="xterm">xterm</h3>

<ol>
<li><p><a href="http://futurile.net/2016/06/14/xterm-setup-and-truetype-font-configuration/">xterm 文档</a></p></li>

<li><p>.Xresources</p></li>
</ol>

<p>%filename: ~/.Xresources</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">XTerm*preeditType: Root
xterm.termName: xterm-256color
xterm.geometry: 80x36
xterm*scrollBar: true
xterm*rightScrollBar: true
xterm*loginshell: true
xterm*cursorBlink: true
xterm*background:  black
xterm*foreground:  gray
xterm.borderLess: true
xterm.cursorBlink: true
xterm*colorUL: yellow
xterm*colorBD: white

!fix alt key input
xterm*eightBitInput: false
xterm*altSendsEscape: true
!print color and bold/underline attributes
xterm*printAttributes: <span style="color:#ae81ff">2</span>
xterm*printerCommand: cat &gt; ~/xtermdump

!mouse selecting to copy, ctrl-v to paste
!Ctrl p to print screen content to file
XTerm*VT100.Translations: <span style="color:#75715e">#override \n\</span>
    Ctrl &lt;KeyPress&gt; V: insert-selection<span style="color:#f92672">(</span>CLIPBOARD,PRIMARY,CUT_BUFFER0<span style="color:#f92672">)</span> <span style="color:#ae81ff">\n\
</span><span style="color:#ae81ff"></span>    &lt;BtnUp&gt;: <span style="color:#66d9ef">select</span>-end<span style="color:#f92672">(</span>CLIPBOARD,PRIMARY,CUT_BUFFER0<span style="color:#f92672">)</span> <span style="color:#ae81ff">\n\
</span><span style="color:#ae81ff"></span>   Ctrl &lt;KeyPress&gt; P: print<span style="color:#f92672">()</span> 


xterm*locale: true
xterm.utf8: true
xterm*utf8Title: true
xterm*fontMenu*fontdefault*Label: Default
xterm*faceName: Inconsolata LGC:pixelsize<span style="color:#f92672">=</span><span style="color:#ae81ff">14</span>
!xterm*faceNameDoublesize:Adobe Kaiti Std R:pixelsize<span style="color:#f92672">=</span><span style="color:#ae81ff">14</span>
xterm*faceNameDoublesize: WenQuanYi Zen Hei Mono:pixelsize<span style="color:#f92672">=</span><span style="color:#ae81ff">14</span>
xterm*xftAntialias: true
xterm.cjkWidth: true

!-- Tango color scheme
*xterm*color0: <span style="color:#75715e">#2e3436</span>
*xterm*color1: <span style="color:#75715e">#cc0000</span>
*xterm*color2: <span style="color:#75715e">#4e9a06</span>
*xterm*color3: <span style="color:#75715e">#c4a000</span>
*xterm*color4: <span style="color:#75715e">#3465a4</span>
*xterm*color5: <span style="color:#75715e">#75507b</span>
*xterm*color6: <span style="color:#75715e">#0b939b</span>
*xterm*color7: <span style="color:#75715e">#d3d7cf</span>
*xterm*color8: <span style="color:#75715e">#555753</span>
*xterm*color9: <span style="color:#75715e">#ef2929</span>
*xterm*color10: <span style="color:#75715e">#8ae234</span>
*xterm*color11: <span style="color:#75715e">#fce94f</span>
*xterm*color12: <span style="color:#75715e">#729fcf</span>
*xterm*color13: <span style="color:#75715e">#ad7fa8</span>
*xterm*color14: <span style="color:#75715e">#00f5e9</span>
*xterm*color15: <span style="color:#75715e">#eeeeec</span></code></pre></div>
<h2 id="window-manager">Window Manager</h2>

<h3 id="list-of-x11-wm-https-www-gilesorr-com-wm-table-html"><a href="https://www.gilesorr.com/wm/table.html">List of x11-wm</a></h3>

<h3 id="fvwm-my-favorite">FVWM (My favorite)</h3>

<h4 id="documents-http-fvwmforums-org-wiki-config"><a href="http://fvwmforums.org/wiki/Config/">Documents</a></h4>

<h2 id="xcursor-鼠标光标">xcursor (鼠标光标)</h2>

<p>鼠标光标的在fvwm中的设置，有cursor-style，但是这个不能影响到应用程序（如firefox）的光标，因为应用成的光标是通过x11直接调用的，但是可以修改在fvwm桌面的光标。x11的光标是可以通过xsetroot决定的。</p>

<h4 id="x-resources-的gentoo-wiki-https-wiki-gentoo-org-wiki-x-resources"><a href="https://wiki.gentoo.org/wiki/X_resources">X resources 的Gentoo Wiki</a></h4>

<p>对于光标的设置：</p>

<p>%Filename: ~/.Xresources</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"> Xcursor.theme: ComixCursors-White
 Xcursor.size: <span style="color:#ae81ff">48</span></code></pre></div>
<p><em>每次都要重新启动X或者 /etc/init.d/tigervnc start</em></p>

<h4 id="关于光标的gentoo-wiki-https-wiki-gentoo-org-wiki-cursor-themes"><a href="https://wiki.gentoo.org/wiki/Cursor_themes">关于光标的Gentoo Wiki</a></h4>

<h4 id="当前地设置过程https-wiki-gentoo-org-wiki-cursor-themes">当前地设置过程<a href="https://wiki.gentoo.org/wiki/Cursor_themes">https://wiki.gentoo.org/wiki/Cursor_themes</a></h4>

</article>

    </body>
</html>
