<!DOCTYPE html>
<html>
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie-edge">

    
    
    <link rel="stylesheet" href="/laowalter.github.io/sass/main.min.ef740697b92983f94ae209bb0e3184554cbc28dcfc08832347dacd426dc8d3a2.css">

</head>

    
<head>
    
    

    
    
    <link href="laowalter.github.iocss/section_number/section_number.css" rel="stylesheet" type="text/css">
    
</head>

    <body>

    <h1>Video</h1>
    <p>Sat Feb 10, 2018</p>
    
    <a class="tag tag--primary tag--small"   href="laowalter.github.io"><font color="green">Home</font></a>

    
        
           <a class="tag tag--primary tag--small" href="laowalter.github.io/tags/video">video</a>
        
    

    <hr><br>
<nav id="TableOfContents">
<ul>
<li><a href="#video-combine">Video Combine</a>
<ul>
<li><a href="#combine-multiple-flvs-into-one">Combine multiple flvs into one</a></li>
<li><a href="#spit-one-mp4-into-multiple-mp4">Spit One mp4 into multiple mp4</a></li>
</ul></li>
<li><a href="#video-downloader">Video Downloader</a>
<ul>
<li><a href="#youtube">youtube</a></li>
<li><a href="#使用youtube-dl">使用youtube-dl</a></li>
</ul></li>
</ul></li>
</ul>
</nav><article>
    

<h2 id="video-combine">Video Combine</h2>

<h3 id="combine-multiple-flvs-into-one">Combine multiple flvs into one</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">emerge -avq mplayer
mencoder -forceidx -of lavf -oac pcm -ovc copy -o film.flv <span style="color:#ae81ff">1</span>.flv <span style="color:#ae81ff">2</span>.flv <span style="color:#ae81ff">3</span>.flv <span style="color:#ae81ff">4</span>.flv <span style="color:#ae81ff">5</span>.flv <span style="color:#ae81ff">6</span>.flv <span style="color:#ae81ff">7</span>.flv <span style="color:#ae81ff">8</span>.flv <span style="color:#ae81ff">9</span>.flv</code></pre></div>
<h3 id="spit-one-mp4-into-multiple-mp4">Spit One mp4 into multiple mp4</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ffmpeg -i 5大運動傷害搶先知.mp4 -c copy -map <span style="color:#ae81ff">0</span> -segment_time <span style="color:#ae81ff">00</span>:01:30 -f segment -f segment output%03d.mp4</code></pre></div>
<h2 id="video-downloader">Video Downloader</h2>

<h3 id="youtube">youtube</h3>

<p>youtube音频和视频很多是分开的，ffmpeg用来将音频和视频合并。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">emerge -avq ffmpeg</code></pre></div>
<p>安装youtube-dl</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">. ~/.bin/python3.sh <span style="color:#75715e">#启动env
</span><span style="color:#75715e"></span>pip install youtube-dl</code></pre></div>
<p>配置文件 ~/.config/youtube-dl/config</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># Do not copy the mtime
</span><span style="color:#75715e"></span>--no-mtime

<span style="color:#75715e"># Use this proxy
</span><span style="color:#75715e"></span>--proxy socks4a://192.168.0.199:9050/
<span style="color:#75715e">#--proxy http://192.168.0.199:8087/
</span><span style="color:#75715e"></span>
<span style="color:#75715e"># Save all videos under Movies directory in your home directory
</span><span style="color:#75715e"></span>-o ~/tmp/%<span style="color:#f92672">(</span>title<span style="color:#f92672">)</span>s.%<span style="color:#f92672">(</span>ext<span style="color:#f92672">)</span>s

<span style="color:#75715e"># Socket time out
</span><span style="color:#75715e"></span>--socket-timeout <span style="color:#ae81ff">600</span>

<span style="color:#75715e">#
</span><span style="color:#75715e"></span>--no-check-certificate

<span style="color:#75715e"># Force resume of partially downloaded files
</span><span style="color:#75715e"></span>--continue</code></pre></div>
<h3 id="使用youtube-dl">使用youtube-dl</h3>

<ul>
<li>列出视频可下载的文件</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#ae81ff">0</span> ✓ <span style="color:#f92672">(</span>Python3<span style="color:#f92672">)</span>walter@mini ~/tmp $ youtube-dl -F  https://www.youtube.com/watch?v<span style="color:#f92672">=</span>Y2yxoUHAGQ
<span style="color:#f92672">[</span>youtube<span style="color:#f92672">]</span> Y2yxoIUHAGQ: Downloading webpage
<span style="color:#f92672">[</span>youtube<span style="color:#f92672">]</span> Y2yxoIUHAGQ: Downloading video info webpage
<span style="color:#f92672">[</span>youtube<span style="color:#f92672">]</span> Y2yxoIUHAGQ: Extracting video information
<span style="color:#f92672">[</span>info<span style="color:#f92672">]</span> Available formats <span style="color:#66d9ef">for</span> Y2yxoIUHAGQ:
format code  extension  resolution note
<span style="color:#ae81ff">249</span>          webm       audio only DASH audio   70k , opus @ 50k, <span style="color:#ae81ff">51</span>.60MiB
<span style="color:#ae81ff">250</span>          webm       audio only DASH audio   81k , opus @ 70k, <span style="color:#ae81ff">64</span>.32MiB
<span style="color:#ae81ff">171</span>          webm       audio only DASH audio  106k , vorbis@128k, <span style="color:#ae81ff">73</span>.09MiB
<span style="color:#ae81ff">251</span>          webm       audio only DASH audio  131k , opus @160k, <span style="color:#ae81ff">104</span>.83MiB
<span style="color:#ae81ff">140</span>          m4a        audio only DASH audio  135k , m4a_dash container, mp4a.40.2@128k, <span style="color:#ae81ff">120</span>.00MiB
<span style="color:#ae81ff">160</span>          mp4        256x144    144p   61k , avc1.4d400c, 24fps, video only, <span style="color:#ae81ff">23</span>.90MiB
<span style="color:#ae81ff">133</span>          mp4        426x240    240p  103k , avc1.4d4015, 24fps, video only, <span style="color:#ae81ff">39</span>.59MiB
<span style="color:#ae81ff">278</span>          webm       256x144    144p  127k , webm container, vp9, 24fps, video only, <span style="color:#ae81ff">60</span>.27MiB
<span style="color:#ae81ff">242</span>          webm       426x240    240p  175k , vp9, 24fps, video only, <span style="color:#ae81ff">67</span>.65MiB
<span style="color:#ae81ff">134</span>          mp4        640x360    360p  276k , avc1.4d401e, 24fps, video only, <span style="color:#ae81ff">90</span>.34MiB
<span style="color:#ae81ff">243</span>          webm       640x360    360p  326k , vp9, 24fps, video only, <span style="color:#ae81ff">120</span>.19MiB
<span style="color:#ae81ff">244</span>          webm       854x480    480p  541k , vp9, 24fps, video only, <span style="color:#ae81ff">189</span>.39MiB
<span style="color:#ae81ff">135</span>          mp4        854x480    480p  545k , avc1.4d401e, 24fps, video only, <span style="color:#ae81ff">175</span>.55MiB
<span style="color:#ae81ff">17</span>           3gp        176x144    small , mp4v.20.3, mp4a.40.2@ 24k
<span style="color:#ae81ff">36</span>           3gp        320x180    small , mp4v.20.3, mp4a.40.2
<span style="color:#ae81ff">43</span>           webm       640x360    medium , vp8.0, vorbis@128k
<span style="color:#ae81ff">18</span>           mp4        640x360    medium , avc1.42001E, mp4a.40.2@ 96k <span style="color:#f92672">(</span>best<span style="color:#f92672">)</span></code></pre></div>
<ul>
<li>下载</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">youtube-dl -f135+140 https://www.youtube.com/watch?v<span style="color:#f92672">=</span>Y2yxoUHAGQ</code></pre></div>
</article>

    </body>
</html>
