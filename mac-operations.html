<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8"> 
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Walter" />
        <meta name="copyright" content="Walter" />

        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="tech, mac, virtualbox, git, Tech, " />

<meta property="og:title" content="Mac Operations "/>
<meta property="og:url" content="./mac-operations.html" />
<meta property="og:description" content="1.0 Mac Operation 1.1 create bootable mac usb In Application Download High Sierra apps Format usb stick with mac external file system In terminal: sudo /Applications/Install\ macOS\ High\ Sierra.app/Contents/Resources/createinstallmedia --volume /Volumes/Untitled --applicationpath /Applications/Install\ macOS\ High\ Sierra.app 1.2 brew install …" />
<meta property="og:site_name" content="Just MEMO" />
<meta property="og:article:author" content="Walter" />
<meta property="og:article:published_time" content="2016-02-29T09:52:41+08:00" />
<meta property="og:article:modified_time" content="2016-09-26T12:43:00+08:00" />
<meta name="twitter:title" content="Mac Operations ">
<meta name="twitter:description" content="1.0 Mac Operation 1.1 create bootable mac usb In Application Download High Sierra apps Format usb stick with mac external file system In terminal: sudo /Applications/Install\ macOS\ High\ Sierra.app/Contents/Resources/createinstallmedia --volume /Volumes/Untitled --applicationpath /Applications/Install\ macOS\ High\ Sierra.app 1.2 brew install …">

        <title>Mac Operations  · Just MEMO
</title>
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
        <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="./theme/css/pygments.css" media="screen">
        <link rel="stylesheet" type="text/css" href="./theme/tipuesearch/tipuesearch.css" media="screen">
        <link rel="stylesheet" type="text/css" href="./theme/css/elegant.css" media="screen">
        <link rel="stylesheet" type="text/css" href="./theme/css/custom.css" media="screen">


    </head>
    <body>
        <div id="content-sans-footer">
        <div class="navbar navbar-static-top">
            <div class="navbar-inner">
                <div class="container-fluid">
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </a>
                    <a class="brand" href="./"><span class=site-name>Just MEMO</span></a>
                    <div class="nav-collapse collapse">
                        <ul class="nav pull-right top-menu">
                            <li ><a href=".">Home</a></li>
                            <li ><a href="./categories.html">Categories</a></li>
                            <li ><a href="./tags.html">Tags</a></li>
                            <li ><a href="./archives.html">Archives</a></li>
                            <li><form class="navbar-search" action="./search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-fluid">
            <div class="row-fluid">
                <div class="span1"></div>
                <div class="span10">
<article>
<div class="row-fluid">
    <header class="page-header span10 offset2">
    <h1><a href="./mac-operations.html"> Mac&nbsp;Operations  </a></h1>
    </header>
</div>

<div class="row-fluid">
    <div class="span2 table-of-content">
        <nav>
        <h4>Contents</h4>
        <div id="toc"><ul><li><a class="toc-href" href="#1.1 create bootable mac usb" title="1.1 create bootable mac&nbsp;usb">1.1 create bootable mac&nbsp;usb</a></li><li><a class="toc-href" href="#1.2 brew install with proxy" title="1.2 brew install with&nbsp;proxy">1.2 brew install with&nbsp;proxy</a></li><li><a class="toc-href" href="#1.3 set hostname" title="1.3 set&nbsp;HostName">1.3 set&nbsp;HostName</a></li><li><a class="toc-href" href="#1.4 find and replace in command line" title="1.4 find and replace in command&nbsp;line">1.4 find and replace in command&nbsp;line</a></li><li><a class="toc-href" href="#2.1 cron" title="2.1 Cron">2.1 Cron</a></li><li><a class="toc-href" href="#2.2 virtual box" title="2.2 Virtual&nbsp;Box">2.2 Virtual&nbsp;Box</a></li><li><a class="toc-href" href="#2.3 create git server" title="2.3 Create git&nbsp;server">2.3 Create git&nbsp;server</a><ul><li><a class="toc-href" href="#2.3.1 server computer:" title="2.3.1 Server&nbsp;Computer:">2.3.1 Server&nbsp;Computer:</a></li><li><a class="toc-href" href="#2.3.2 client computer" title="2.3.2 Client&nbsp;Computer">2.3.2 Client&nbsp;Computer</a></li></ul></li><li><a class="toc-href" href="#2.4 mac change keyboard map_1" title="2.4 Mac change keyboard&nbsp;map">2.4 Mac change keyboard&nbsp;map</a></li><li><a class="toc-href" href="#2.5 webserver" title="2.5 Webserver">2.5 Webserver</a><ul><li><a class="toc-href" href="#2.5.1 qi dong ben ji webfu wu qi , gen di zhi /library/webserver/documents" title="2.5.1 启动本机web服务器,&nbsp;根地址/Library/WebServer/Documents">2.5.1 启动本机web服务器,&nbsp;根地址/Library/WebServer/Documents</a></li><li><a class="toc-href" href="#2.5.2 jian li  username.conf, usernameshi yong hu zhang hao" title="2.5.2 建立 username.conf,&nbsp;username是用户账号">2.5.2 建立 username.conf,&nbsp;username是用户账号</a></li><li><a class="toc-href" href="#2.5.3 da kai /etc/apache2/httpd.conf" title="2.5.3 打开/etc/apache2/httpd.conf">2.5.3 打开/etc/apache2/httpd.conf</a></li><li><a class="toc-href" href="#2.5.4 da kai  /etc/apache2/extra/httpd-userdir.conf" title="2.5.4 打开&nbsp;/etc/apache2/extra/httpd-userdir.conf">2.5.4 打开&nbsp;/etc/apache2/extra/httpd-userdir.conf</a></li><li><a class="toc-href" href="#2.5.5 qi dong apache" title="2.5.5 启动apache">2.5.5 启动apache</a></li></ul></li></ul></div>
        </nav>
    </div>
    <div class="span8 article-content">

            
            <h1>1.0 Mac Operation</h1>
<h2 id="1.1 create bootable mac usb">1.1 create bootable mac usb</h2>
<ol>
<li>In Application Download High Sierra apps</li>
<li>Format usb stick with mac external file system</li>
<li>In terminal:</li>
</ol>
<div class="highlight"><pre><span></span>sudo /Applications/Install<span class="se">\ </span>macOS<span class="se">\ </span>High<span class="se">\ </span>Sierra.app/Contents/Resources/createinstallmedia --volume /Volumes/Untitled --applicationpath /Applications/Install<span class="se">\ </span>macOS<span class="se">\ </span>High<span class="se">\ </span>Sierra.app
</pre></div>
<h2 id="1.2 brew install with proxy">1.2 brew install with proxy</h2>
<div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">ALL_PROXY</span><span class="o">=</span><span class="m">127</span>.0.0.1:8087
brew install chromedriver
</pre></div>
<h2 id="1.3 set hostname">1.3 set HostName</h2>
<ol>
<li>set /etc/hosts</li>
<li>set hostname</li>
</ol>
<div class="highlight"><pre><span></span>    sudo scutil --set ComputerName newname
    sudo scutil --set LocalHostName newname
    sudo scutil --set HostName newname
    dscacheutil -flushcache
</pre></div>
<h2 id="1.4 find and replace in command line">1.4 find and replace in command line</h2>
<ul>
<li>replace</li>
</ul>
<div class="highlight"><pre><span></span>    find ./ -type f -print0<span class="p">|</span>xargs -0 sed -ie <span class="s1">'s/{% asset_img /![Alt Text]({static}\/images\/108class\//g'</span>
</pre></div>
<div class="highlight"><pre><span></span>    find ./ -type f -print0<span class="p">|</span>xargs -0 sed -ie <span class="s1">'s/^---$//g'</span>
</pre></div>
<div class="highlight"><pre><span></span>    find . -name <span class="s1">'*.md'</span> -type f -exec sed -i <span class="s1">''</span> -e  <span class="s1">'s/\\n//'</span> <span class="o">{}</span> <span class="se">\;</span>
</pre></div>
<div class="highlight"><pre><span></span>    find . -name <span class="s1">'*.css'</span> -type f -exec sed -i <span class="s1">''</span> -e  <span class="s1">'s/googleapis/useso/'</span> <span class="o">{}</span> <span class="se">\;</span>
</pre></div>
<ul>
<li>delete</li>
</ul>
<div class="highlight"><pre><span></span>    find . -name <span class="s1">'*md'</span> -type f -exec sed -i <span class="s1">''</span> -e  <span class="s1">'/^$/d'</span> <span class="o">{}</span> <span class="se">\;</span>
</pre></div>
<h1>2.0 Autostart</h1>
<ul>
<li>/Library/LaunchDaemons/com.localhost.hexo.plist<ul>
<li>Check script error with plutil</li>
</ul>
</li>
</ul>
<div class="highlight"><pre><span></span>    plutil -lint /Library/LaunchDaemons/com.localhost.hexo.plist
</pre></div>
<div class="highlight"><pre><span></span>* Set up log to /var/log/system.log
</pre></div>
<h2 id="2.1 cron">2.1 Cron</h2>
<ul>
<li>command</li>
</ul>
<p><code>注意:</code> crontab 在用户环境中不能够直接用crontab -e编辑，因为无法保存。</p>
<div class="highlight"><pre><span></span>    ~ su -
    <span class="c1"># root # crontab -u walter -e</span>
</pre></div>
<p><a href="./images/tech/crontab.gif"><img alt="Alt Text" class="img-fluid" src="./images/tech/crontab.gif"/></a></p>
<ul>
<li>MacMini <code>cron file for walter</code></li>
</ul>
<div class="highlight"><pre><span></span>    <span class="m">15</span> <span class="m">09</span> * * <span class="m">1</span>-5 walter /usr/bin/afplay ~/.stocknotice/alert915.m4a
    <span class="m">30</span> <span class="m">11</span> * * <span class="m">1</span>-5 walter /usr/bin/afplay ~/.stocknotice/closeram.m4a
    <span class="m">55</span> <span class="m">12</span> * * <span class="m">1</span>-5 walter /usr/bin/afplay ~/.stocknotice/openpm.m4a
    <span class="m">00</span> <span class="m">15</span> * * <span class="m">1</span>-5 walter /usr/bin/afplay ~/.stocknotice/closepm.m4a
</pre></div>
<ul>
<li>关于virtualenv python的演示</li>
</ul>
<div class="highlight"><pre><span></span>    <span class="c1">#!/bin/bash</span>
    <span class="nb">export</span> <span class="nv">LC_ALL</span><span class="o">=</span>zh_CN.UTF-8
    <span class="nb">export</span> <span class="nv">LANG</span><span class="o">=</span>zh_CN.UTF-8
    <span class="nv">PATH</span><span class="o">=</span>/bin:/usr/sbin:/usr/bin
    <span class="nv">PATH</span><span class="o">=</span>~/.bin:/usr/local/bin:/usr/local/mysql/bin:<span class="nv">$PATH</span>

    <span class="nb">source</span> ~/.bin/quanta.sh
    <span class="nb">cd</span> ~/quanta/strategy/small_mkval/
    <span class="c1"># ~/.virtualenvs/quanta/bin/python data_prepare.py</span>
    python data_prepare.py
</pre></div>
<ul>
<li>spyder</li>
</ul>
<div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">WORKON_HOME</span><span class="o">=</span>~/.virtualenvs
<span class="nb">source</span> ~/.virtualenvs/quanta/bin/activate
python ~/bin/spyder/bootstrap.py  &gt; /dev/null <span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span> <span class="p">&amp;</span>
</pre></div>
<h2 id="2.2 virtual box">2.2 Virtual Box</h2>
<ul>
<li>
<p>Set Virtual Box resolution for  Mac or Linux</p>
<ul>
<li>One Screen</li>
</ul>
</li>
</ul>
<div class="highlight"><pre><span></span>~$ VBoxManage controlvm <span class="s2">"Name of Virtual Machine"</span> setvideomodehint <span class="m">1920</span> <span class="m">1080</span> <span class="m">32</span>
</pre></div>
<div class="highlight"><pre><span></span>- Multiscreen​

    Add second monitor first in the setting menu of Virutal Box, The First screen number is 0 and the second is 1.​ ps Stock is the virtual machine name. then, ​
</pre></div>
<div class="highlight"><pre><span></span>~$ VBoxManage controlvm Stock setvideomodehint <span class="m">2560</span> <span class="m">1440</span> <span class="m">32</span>​ <span class="m">0</span>
~$ VBoxManage controlvm Stock setvideomodehint <span class="m">1920</span> <span class="m">1080</span> <span class="m">32</span>​ <span class="m">1</span>
</pre></div>
<h2 id="2.3 create git server">2.3 Create git server</h2>
<h3 id="2.3.1 server computer:">2.3.1 Server Computer:</h3>
<ol>
<li>Add a new user: git</li>
</ol>
<div class="highlight"><pre><span></span>        $ create a new user named <span class="s1">'git'</span>
        $ <span class="nb">enable</span> web sharing
        $ git config receive.denyCurrentBranch updateInstead
</pre></div>
<ol>
<li>Initialise a git directory</li>
</ol>
<div class="highlight"><pre><span></span>        $ mkdir something.git
        $ <span class="nb">cd</span> something.git
        $ git init --bare
</pre></div>
<h3 id="2.3.2 client computer">2.3.2 Client Computer</h3>
<div class="highlight"><pre><span></span>    $ git clone ssh://localhost/~/something.git
</pre></div>
<p>Or: git is the username </p>
<div class="highlight"><pre><span></span>    $ git clone ssh://git@localhost/~/something.git
</pre></div>
<p>First push:</p>
<div class="highlight"><pre><span></span>    $ git push origin master
</pre></div>
<h2 id="2.4 mac change keyboard map_1">2.4 Mac change keyboard map</h2>
<p>Key replace Application name:  <code>Karabiner</code></p>
<h2 id="2.5 webserver">2.5 Webserver</h2>
<p>(http://digitalshore.io/local-web-development-environment-apache-osx-10-11-el-capitan/)[http://digitalshore.io/local-web-development-environment-apache-osx-10-11-el-capitan/]</p>
<h3 id="2.5.1 qi dong ben ji webfu wu qi , gen di zhi /library/webserver/documents">2.5.1 启动本机web服务器, 根地址/Library/WebServer/Documents</h3>
<div class="highlight"><pre><span></span>sudo apachectl start
sudo apachectl stop
sudo apachectl restart
</pre></div>
<h3 id="2.5.2 jian li  username.conf, usernameshi yong hu zhang hao">2.5.2 建立 username.conf, username是用户账号</h3>
<div class="highlight"><pre><span></span><span class="nb">cd</span> /etc/apache2/users
sudo vi username.conf
</pre></div>
<div class="highlight"><pre><span></span><span class="nt">&lt;Directory</span> <span class="err">"/Users/username/Sites/"</span><span class="nt">&gt;</span>
    AllowOverride All
    Options Indexes MultiViews FollowSymLinks
    Require all granted
<span class="nt">&lt;/Directory&gt;</span>
</pre></div>
<p>username.conf 的Permissions 应该是：</p>
<div class="highlight"><pre><span></span>sudo chmod <span class="m">644</span> username.conf
ls -l username.conf
-rw-r--r-- root wheel <span class="m">298</span> Jun <span class="m">28</span> <span class="m">16</span>:47 username.conf
</pre></div>
<h3 id="2.5.3 da kai /etc/apache2/httpd.conf">2.5.3 打开/etc/apache2/httpd.conf</h3>
<div class="highlight"><pre><span></span>LoadModule authz_core_module libexec/apache2/mod_authz_core.so
LoadModule authz_host_module libexec/apache2/mod_authz_host.so
LoadModule userdir_module libexec/apache2/mod_userdir.so
LoadModule include_module libexec/apache2/mod_include.so
LoadModule rewrite_module libexec/apache2/mod_rewrite.so
LoadModule php5_module libexec/apache2/libphp5.so
Include /private/etc/apache2/extra/httpd-userdir.conf
</pre></div>
<h3 id="2.5.4 da kai  /etc/apache2/extra/httpd-userdir.conf">2.5.4 打开 /etc/apache2/extra/httpd-userdir.conf</h3>
<p>uncomment the following:</p>
<div class="highlight"><pre><span></span>Include /private/etc/apache2/users/*.conf
</pre></div>
<h3 id="2.5.5 qi dong apache">2.5.5 启动apache</h3>
<div class="highlight"><pre><span></span>mkdir ~/Sites
sudo apachectl restart
</pre></div>
            
            
            <hr/>
<section>
    <h2>Related Posts</h2>
<ul class="related-posts-list">
<li><a href="./git.html" title="Git">Git</a></li>
<li><a href="./mac-mini-gentoo-linux-single-boot-with-kernel-stub-installation.html" title="Mac-mini Gentoo Linux Single Boot with Kernel Stub Installation">Mac-mini Gentoo Linux Single Boot with Kernel Stub Installation</a></li>
<li><a href="./fvwm.html" title="FVWM">FVWM</a></li>
<li><a href="./mi-ma-sheng-cheng-cheng-xu.html" title="密码生成程序">密码生成程序</a></li>
<li><a href="./linux-bluetooth-lan-ya.html" title="Linux Bluetooth / 蓝牙">Linux Bluetooth / 蓝牙</a></li>
</ul>
<hr />
</section>
        </div>
        <section>
        <div class="span2" style="float:right;font-size:0.9em;">
            <h4>Published</h4>
            <time pubdate="pubdate" datetime="2016-02-29T09:52:41+08:00">Feb 29, 2016</time>

<h4>Last Updated</h4>
<time datetime="2016-09-26T12:43:00+08:00">Sep 26, 2016</time>

            <h4>Category</h4>
            <a class="category-link" href="./categories.html#tech-ref">Tech</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="./tags.html#git-ref">git
                    <span>2</span>
</a></li>
                <li><a href="./tags.html#mac-ref">mac
                    <span>2</span>
</a></li>
                <li><a href="./tags.html#tech-ref">tech
                    <span>81</span>
</a></li>
                <li><a href="./tags.html#virtualbox-ref">virtualbox
                    <span>1</span>
</a></li>
            </ul>
<h4>Contact</h4>
    <a href="https://slashdot.org/" title="My IT新闻Slashdot Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-it新闻slashdot sidebar-social-links"></i></a>
        </div>
        </section>
</div>
</article>
                </div>
                <div class="span1"></div>
            </div>
        </div>
        <div id="push"></div>
    </div>
<footer>
<div id="footer">
    <ul class="footer-content">
        <li class="elegant-power">Powered by <a href="http://getpelican.com/" title="Pelican Home Page">Pelican</a>. Theme: <a href="https://github.com/Pelican-Elegant/elegant/" title="Theme Elegant Home Page">Elegant</a></li>
    </ul>
</div>
</footer>            <script src="http://code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    
    </body>
    <!-- Theme: Elegant built for Pelican
    License : MIT -->
</html>